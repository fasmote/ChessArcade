/*
 * Chessboard2.css - Estilos personalizados para nuestra versión local
 *
 * Este archivo define todos los estilos visuales del tablero de ajedrez:
 * - Layout del tablero con CSS Grid
 * - Colores de casillas claras y oscuras
 * - Estilos de piezas y drag & drop
 * - Coordenadas del tablero
 * - Animaciones y efectos visuales
 */

/* ============================================
   CONTENEDOR PRINCIPAL DEL TABLERO
   ============================================ */

/* Contenedor raíz del tablero - debe ser cuadrado y responsive */
.chessboard-cb2 {
    width: 100%;
    height: 100%;
    min-width: 400px;
    min-height: 400px;
    position: relative;
    user-select: none; /* Prevenir selección de texto durante drag */
    touch-action: manipulation; /* Optimizar para touch en móviles */
}

/* Contenedor del tablero con borde y sombra */
.board-container {
    width: 100%;
    height: 100%;
    border: 3px solid #8B4513; /* Borde marrón clásico */
    border-radius: 8px;
    position: relative;
    box-shadow:
        0 4px 8px rgba(0, 0, 0, 0.3),
        inset 0 0 0 2px #D2691E; /* Borde interior dorado */
    background: #F5DEB3; /* Color de fondo wheat */
}

/* ============================================
   GRID DE CASILLAS
   ============================================ */

/*
 * Contenedor de casillas usando CSS Grid
 * Grid de 8x8 para las 64 casillas del tablero
 */
.squares-container {
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: repeat(8, 1fr); /* 8 columnas iguales */
    grid-template-rows: repeat(8, 1fr);    /* 8 filas iguales */
    gap: 0; /* Sin espacios entre casillas */
}

/* ============================================
   CASILLAS INDIVIDUALES
   ============================================ */

/* Estilo base para todas las casillas */
.square {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease; /* Transición suave para efectos hover */
}

/* Casillas claras (blancas) */
.square.light {
    background-color: #F0D9B5; /* Beige claro típico de tableros */
}

/* Casillas oscuras (negras) */
.square.dark {
    background-color: #B58863; /* Marrón medio típico de tableros */
}

/* Efecto hover para casillas durante drag & drop */
.square.drag-hover {
    background-color: rgba(0, 255, 255, 0.3) !important; /* Highlight cyan semi-transparente */
    box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.5);
}

/* Highlight para casilla seleccionada */
.square.selected {
    background-color: rgba(255, 255, 0, 0.4) !important; /* Amarillo semi-transparente */
    box-shadow: inset 0 0 8px rgba(255, 255, 0, 0.6);
}

/* Highlight para posibles movimientos */
.square.possible-move {
    background-color: rgba(0, 255, 0, 0.2) !important; /* Verde claro */
}

/* Highlight para último movimiento */
.square.last-move {
    background-color: rgba(255, 255, 0, 0.3) !important; /* Amarillo claro */
}

/* ============================================
   PIEZAS DE AJEDREZ
   ============================================ */

/* Estilo base para todas las piezas */
.piece {
    width: 80%; /* Las piezas ocupan 80% de la casilla para dar espacio visual */
    height: 80%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer; /* Cursor de mano para indicar que es draggable */
    font-size: 2.5rem; /* Tamaño grande para los símbolos Unicode */
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Sombra para mejor legibilidad */
    transition: transform 0.2s ease; /* Animación suave para hover */
    z-index: 2; /* Asegurar que esté encima de las casillas */

    /* Prevenir que el texto se seleccione durante drag */
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

/* Efecto hover para piezas */
.piece:hover {
    transform: scale(1.1); /* Aumentar tamaño ligeramente al pasar mouse */
}

/* Efecto cuando una pieza está siendo arrastrada */
.piece.dragging {
    opacity: 0.7; /* Semi-transparente durante drag */
    transform: scale(1.2) rotate(5deg); /* Ligeramente más grande y rotada */
    z-index: 1000; /* Asegurar que esté por encima de todo */
    cursor: grabbing; /* Cursor de agarre cerrado */
}

/* Estilos específicos para piezas blancas */
.piece.wk, .piece.wq, .piece.wr, .piece.wb, .piece.wn, .piece.wp {
    color: #FFFFFF; /* Blanco puro */
    text-shadow:
        2px 2px 4px rgba(0, 0, 0, 0.8),
        -1px -1px 2px rgba(0, 0, 0, 0.5); /* Sombras múltiples para contraste */
}

/* Estilos específicos para piezas negras */
.piece.bk, .piece.bq, .piece.br, .piece.bb, .piece.bn, .piece.bp {
    color: #000000; /* Negro puro */
    text-shadow:
        2px 2px 4px rgba(255, 255, 255, 0.8),
        -1px -1px 2px rgba(255, 255, 255, 0.5); /* Sombras blancas para contraste */
}

/* ============================================
   COORDENADAS DEL TABLERO
   ============================================ */

/* Contenedor base para todas las coordenadas */
.coordinates {
    position: absolute;
    display: flex;
    font-family: 'Orbitron', monospace; /* Fuente sci-fi para mantener tema */
    font-weight: bold;
    font-size: 12px;
    color: #8B4513; /* Marrón para contrastar con el fondo */
    z-index: 10; /* Por encima del tablero */
}

/* Coordenadas de archivos (a-h) en la parte inferior */
.coordinates.files {
    bottom: -25px; /* Posicionado debajo del tablero */
    left: 0;
    width: 100%;
    height: 20px;
    flex-direction: row; /* Horizontal */
    justify-content: space-around; /* Distribuir uniformemente */
}

/* Coordenadas de rangos (1-8) en el lateral izquierdo */
.coordinates.ranks {
    left: -25px; /* Posicionado a la izquierda del tablero */
    top: 0;
    width: 20px;
    height: 100%;
    flex-direction: column; /* Vertical */
    justify-content: space-around; /* Distribuir uniformemente */
    align-items: center;
}

/* Estilo para cada coordenada individual */
.coordinate {
    display: flex;
    align-items: center;
    justify-content: center;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.7); /* Sombra clara para legibilidad */
}

/* ============================================
   EFECTOS ESPECIALES Y ANIMACIONES
   ============================================ */

/* Animación para cuando aparece una pieza */
@keyframes pieceAppear {
    from {
        opacity: 0;
        transform: scale(0.3);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Aplicar animación de aparición a piezas nuevas */
.piece.new-piece {
    animation: pieceAppear 0.3s ease-out;
}

/* Animación para cuando desaparece una pieza */
@keyframes pieceDisappear {
    from {
        opacity: 1;
        transform: scale(1);
    }
    to {
        opacity: 0;
        transform: scale(0.3);
    }
}

/* Aplicar animación de desaparición */
.piece.removing {
    animation: pieceDisappear 0.3s ease-in;
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */

/* Ajustes para tablets */
@media (max-width: 768px) {
    .chessboard-cb2 {
        min-width: 320px;
        min-height: 320px;
    }

    .piece {
        font-size: 2rem; /* Piezas ligeramente más pequeñas */
    }

    .coordinates {
        font-size: 10px; /* Coordenadas más pequeñas */
    }
}

/* Ajustes para móviles */
@media (max-width: 480px) {
    .chessboard-cb2 {
        min-width: 280px;
        min-height: 280px;
    }

    .piece {
        font-size: 1.8rem;
    }

    .coordinates {
        font-size: 9px;
    }

    /* En móviles, hacer las coordenadas más cercanas al tablero */
    .coordinates.files {
        bottom: -20px;
    }

    .coordinates.ranks {
        left: -20px;
    }
}

/* ============================================
   UTILIDADES Y HELPERS
   ============================================ */

/* Clase para ocultar elementos */
.hidden {
    display: none !important;
}

/* Clase para hacer elementos semi-transparentes */
.faded {
    opacity: 0.5;
}

/* Clase para deshabilitar interacción */
.disabled {
    pointer-events: none;
    opacity: 0.6;
}

/* Clase para highlight general */
.highlight {
    box-shadow: 0 0 10px rgba(255, 255, 0, 0.8) !important;
}

/* ============================================
   DEBUG STYLES (remover en producción)
   ============================================ */

/* Estilo para debug - mostrar grid lines */
.debug .square {
    border: 1px solid rgba(255, 0, 0, 0.2);
}

/* Estilo para debug - mostrar coordenadas de cada casilla */
.debug .square::before {
    content: attr(data-square);
    position: absolute;
    top: 2px;
    left: 2px;
    font-size: 8px;
    color: red;
    font-weight: bold;
}